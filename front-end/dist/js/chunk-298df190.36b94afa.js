(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-298df190"],{"013f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoading?a("div",{staticClass:"loading"},[t._m(0)]):t._e(),a("div",{staticClass:"align"},[a("div",{staticClass:"grid"},[t._m(1),a("form",{staticClass:"form login",on:{submit:t.handleSubmit}},[t.newUser?a("div",[a("div",{staticClass:"form-field login-form"},[a("label",{attrs:{for:"login-cpf"}},[a("svg",{staticClass:"icon"},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#user"}})]),a("span",{staticClass:"hidden"},[t._v("CPF")])]),a("the-mask",{staticClass:"form-input",attrs:{mask:["###.###.###-##"],id:"login-cpf",type:"text",name:"cpf",placeholder:"CPF",masked:!0,required:"",autofocus:""},model:{value:t.cpf,callback:function(e){t.cpf=e},expression:"cpf"}})],1),a("div",{staticClass:"form-field login-form"},[a("label",{attrs:{for:"login-fullname"}},[a("svg",{staticClass:"icon"},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#user"}})]),a("span",{staticClass:"hidden"},[t._v("Nome Completo")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullname,expression:"fullname"}],staticClass:"form-input",attrs:{id:"login-fullname",type:"text",name:"fullname",placeholder:"Nome Completo",required:"",autofocus:""},domProps:{value:t.fullname},on:{input:function(e){e.target.composing||(t.fullname=e.target.value)}}})])]):t._e(),a("div",{staticClass:"form-field login-form"},[a("label",{attrs:{for:"login-email"}},[a("svg",{staticClass:"icon"},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#user"}})]),a("span",{staticClass:"hidden"},[t._v("Email")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"form-input",attrs:{id:"login-email",type:"email",name:"email",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-field login-form"},[a("label",{attrs:{for:"login-password"}},[a("svg",{staticClass:"icon"},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#lock"}})]),a("span",{staticClass:"hidden"},[t._v("Senha")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{id:"login-password",type:"password",name:"password",placeholder:"Senha",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-field login-form"},[a("input",{attrs:{type:"submit"},domProps:{value:t.newUser?"Registrar":"Entrar"}})])]),a("p",{staticClass:"text-center"},[t._v("\n        "+t._s(t.newUser?"Já é cadastrado?":"Não tem cadastro?")+"\n        "),a("a",{on:{click:t.toggleRegister}},[t._v("\n          Clique aqui\n          "),a("svg",{staticClass:"icon white-icon"},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#arrow-right"}})])])])]),a("svg",{staticClass:"icons",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("symbol",{attrs:{id:"arrow-right",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1600 960q0 54-37 91l-651 651q-39 37-91 37-51 0-90-37l-75-75q-38-38-38-91t38-91l293-293H245q-52 0-84.5-37.5T128 1024V896q0-53 32.5-90.5T245 768h704L656 474q-38-36-38-90t38-90l75-75q38-38 90-38 53 0 91 38l651 651q37 35 37 90z"}})]),a("symbol",{attrs:{id:"lock",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M640 768h512V576q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28H416q-40 0-68-28t-28-68V864q0-40 28-68t68-28h32V576q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"}})]),a("symbol",{attrs:{id:"user",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1600 1405q0 120-73 189.5t-194 69.5H459q-121 0-194-69.5T192 1405q0-53 3.5-103.5t14-109T236 1084t43-97.5 62-81 85.5-53.5T538 832q9 0 42 21.5t74.5 48 108 48T896 971t133.5-21.5 108-48 74.5-48 42-21.5q61 0 111.5 20t85.5 53.5 62 81 43 97.5 26.5 108.5 14 109 3.5 103.5zm-320-893q0 159-112.5 271.5T896 896 624.5 783.5 512 512t112.5-271.5T896 128t271.5 112.5T1280 512z"}})])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uil-ring-css",staticStyle:{transform:"scale(0.79)"}},[a("div")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"form-image login-image",attrs:{src:a("cf05"),alt:"Logotipo O Boticário"}})])}],i={email:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g},r=a("bc3a"),o=a.n(r),l=a("3a60"),u={components:{TheMask:l["TheMask"]},data:()=>{return{cpf:null,fullname:null,email:null,password:null,isLoading:!1,newUser:!1}},methods:{signIn(){this.$router.push("/login")},async handleSubmit(t){if(t.preventDefault(),!this.email||!this.password)return this.$refs.email.focus(),this.$nextTick(()=>this.$refs.email.focus()),this.$swal.fire({title:"Oops...",text:"Algum dos campos está inválido.",type:"error",customClass:{confirmButton:"confirm-button-class"}});if(!this.email.match(i.email))return this.$swal.fire({title:"Oops...",text:"Verifique seu email.",type:"error",customClass:{confirmButton:"confirm-button-class"}});this.isLoading=!0;const e=`/auth/${this.newUser?"register":"login"}`;await o.a.post(e,{fullname:this.fullname,cpf:this.cpf,email:this.email,password:this.password}).then(t=>{localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("user_id",t.data.user_id),localStorage.setItem("full_name",t.data.full_name),null!=localStorage.getItem("jwt")&&(o.a.defaults.headers.common["x-access-token"]=localStorage.getItem("jwt"),this.$emit("loggedIn"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("compras"))}).catch(t=>this.isLoading=!1),this.isLoading=!1},toggleRegister(){this.newUser=!this.newUser,this.cpf=null,this.email=null,this.fullname=null,this.password=null}},beforeMount(){var t=localStorage.getItem("logout_error");t&&this.$swal.fire({title:"Oops...",text:t,type:"error",customClass:{confirmButton:"confirm-button-class"}}),localStorage.removeItem("logout_error")}},c=u,f=(a("da41"),a("2877")),m=Object(f["a"])(c,n,s,!1,null,null,null);e["default"]=m.exports},"3a60":function(t,e,a){(function(e,a){t.exports=a()})(0,(function(){return function(t){function e(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=10)}([function(t,e){t.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleLowerCase()}},"!":{escape:!0}}},function(t,e,a){"use strict";function n(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var s=a(2),i=a(0),r=a.n(i);e.a=function(t,e){var i=e.value;if((Array.isArray(i)||"string"==typeof i)&&(i={mask:i,tokens:r.a}),"INPUT"!==t.tagName.toLocaleUpperCase()){var o=t.getElementsByTagName("input");if(1!==o.length)throw new Error("v-mask directive requires 1 input, found "+o.length);t=o[0]}t.oninput=function(e){if(e.isTrusted){var r=t.selectionEnd,o=t.value[r-1];for(t.value=a.i(s.a)(t.value,i.mask,!0,i.tokens);r<t.value.length&&t.value.charAt(r-1)!==o;)r++;t===document.activeElement&&(t.setSelectionRange(r,r),setTimeout((function(){t.setSelectionRange(r,r)}),0)),t.dispatchEvent(n("input"))}};var l=a.i(s.a)(t.value,i.mask,!0,i.tokens);l!==t.value&&(t.value=l,t.dispatchEvent(n("input")))}},function(t,e,a){"use strict";var n=a(6),s=a(5);e.a=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];return Array.isArray(e)?a.i(s.a)(n.a,e,r)(t,e,i,r):a.i(n.a)(t,e,i,r)}},function(t,e,a){"use strict";function n(t){t.component(l.a.name,l.a),t.directive("mask",r.a)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(0),i=a.n(s),r=a(1),o=a(7),l=a.n(o);a.d(e,"TheMask",(function(){return l.a})),a.d(e,"mask",(function(){return r.a})),a.d(e,"tokens",(function(){return i.a})),a.d(e,"version",(function(){return u}));var u="0.11.1";e.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),s=a(0),i=a.n(s),r=a(2);e.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return i.a}}},directives:{mask:n.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(t){t!==this.lastValue&&(this.display=t)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(t){t.isTrusted||this.refresh(t.target.value)},refresh:function(t){this.display=t;t=a.i(r.a)(t,this.mask,this.masked,this.tokens);t!==this.lastValue&&(this.lastValue=t,this.$emit("input",t))}}}},function(t,e,a){"use strict";function n(t,e,a){return e=e.sort((function(t,e){return t.length-e.length})),function(n,s){for(var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;r<e.length;){var o=e[r];r++;var l=e[r];if(!(l&&t(n,l,!0,a).length>o.length))return t(n,o,i,a)}return""}}e.a=n},function(t,e,a){"use strict";function n(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3];t=t||"",e=e||"";for(var s=0,i=0,r="";s<e.length&&i<t.length;){var o=e[s],l=n[o],u=t[i];l&&!l.escape?(l.pattern.test(u)&&(r+=l.transform?l.transform(u):u,s++),i++):(l&&l.escape&&(s++,o=e[s]),a&&(r+=o),u===o&&i++,s++)}for(var c="";s<e.length&&a;){o=e[s];if(n[o]){c="";break}c+=o,s++}return r+c}e.a=n},function(t,e,a){var n=a(8)(a(4),a(9),null,null);t.exports=n.exports},function(t,e){t.exports=function(t,e,a,n){var s,i=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,i=t.default);var o="function"==typeof i?i.options:i;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),n){var l=o.computed||(o.computed={});Object.keys(n).forEach((function(t){var e=n[t];l[t]=function(){return e}}))}return{esModule:s,exports:i,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"mask",rawName:"v-mask",value:t.config,expression:"config"}],attrs:{type:"text"},domProps:{value:t.display},on:{input:t.onInput}})},staticRenderFns:[]}},function(t,e,a){t.exports=a(3)}])}))},cf05:function(t,e,a){t.exports=a.p+"img/logo.f1aca648.png"},da41:function(t,e,a){"use strict";var n=a("f1b0"),s=a.n(n);s.a},f1b0:function(t,e,a){}}]);
//# sourceMappingURL=chunk-298df190.36b94afa.js.map